# 项目运行指南

## 前提条件

✅ 你已经创建好了数据库 `bigcomp_access` 并导入了 `database/db.sql`

## 运行步骤

### 方法一：使用Maven构建并运行（推荐）

#### 1. 检查数据库配置

编辑 `src/main/resources/config/database.properties`，确保配置正确：

```properties
db.url=jdbc:mysql://localhost:3306/bigcomp_access?useSSL=false&serverTimezone=UTC&characterEncoding=utf8
db.username=root          # 改为你的MySQL用户名
db.password=root          # 改为你的MySQL密码
```

#### 2. 构建项目

**Windows系统：**
```bash
# 方式1：使用提供的构建脚本
build.bat

# 方式2：直接使用Maven命令
mvn clean package
```

**Linux/Mac系统：**
```bash
# 方式1：使用提供的构建脚本
chmod +x build.sh
./build.sh

# 方式2：直接使用Maven命令
mvn clean package
```

构建成功后，会在 `target` 目录下生成 `access-control-system-1.0.0.jar` 文件。

#### 3. 运行项目

```bash
java -jar target/access-control-system-1.0.0.jar
```

或者如果构建脚本已经复制到根目录：
```bash
java -jar access-control-system.jar
```

### 方法二：使用IDE运行（IntelliJ IDEA / Eclipse）

#### 1. 导入项目

- **IntelliJ IDEA:**
  - File → Open → 选择项目根目录
  - 等待Maven自动导入依赖

- **Eclipse:**
  - File → Import → Maven → Existing Maven Projects
  - 选择项目根目录

#### 2. 配置数据库连接

确保 `src/main/resources/config/database.properties` 中的数据库配置正确。

#### 3. 运行主类

找到 `src/main/java/com/bigcomp/accesscontrol/Main.java`，右键 → Run 'Main.main()'

### 方法三：使用Maven直接运行（不打包）

```bash
mvn clean compile exec:java -Dexec.mainClass="com.bigcomp.accesscontrol.Main"
```

## 验证运行

运行成功后，应该会看到：

1. **主窗口打开**，包含以下标签页：
   - 用户管理
   - 徽章管理
   - 资源管理
   - 配置文件管理
   - 日志查询
   - 实时监控

2. **检查数据库连接**：
   - 尝试在"用户管理"标签页中查看用户列表
   - 如果能看到示例用户（John Doe, Jane Smith等），说明数据库连接成功

## 常见问题

### 1. 找不到主类错误

**错误信息：** `Error: Could not find or load main class com.bigcomp.accesscontrol.Main`

**解决方法：**
- 确保已经编译：`mvn clean compile`
- 检查 `pom.xml` 中的主类配置是否正确
- 使用IDE时，确保项目已正确导入

### 2. 数据库连接失败

**错误信息：** `Communications link failure` 或 `Access denied`

**解决方法：**
- 检查MySQL服务是否启动
- 检查 `database.properties` 中的用户名和密码
- 检查数据库名称是否为 `bigcomp_access`
- 检查MySQL端口是否为3306

### 3. 找不到依赖

**错误信息：** `ClassNotFoundException: com.mysql.cj.jdbc.Driver`

**解决方法：**
- 运行 `mvn clean install` 下载依赖
- 检查网络连接（需要下载Maven依赖）
- 如果使用IDE，确保Maven项目已正确导入

### 4. 日志目录创建失败

**解决方法：**
- 确保有写入权限
- 手动创建 `logs` 目录

## 快速测试

运行项目后，可以尝试：

1. **查看用户列表**：切换到"用户管理"标签页，应该能看到4个示例用户
2. **添加新用户**：填写表单，点击"添加用户"
3. **模拟访问请求**：切换到"实时监控"标签页，点击"模拟访问请求"按钮

## 下一步

- 测试各个功能模块
- 根据需要添加更多测试数据
- 完善GUI界面
- 优化代码和性能

